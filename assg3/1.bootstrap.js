(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[,function(t,e,i){"use strict";i.r(e);var n=i(2);const s=(t,e,i,n,s,o)=>{t.moveTo(e+o,i),t.arcTo(e+n,i,e+n,i+s,o),t.arcTo(e+n,i+s,e,i+s,o),t.arcTo(e,i+s,e,i,o),t.arcTo(e,i,e+n,i,o)};class o{constructor(t){this.view=t,this.clicked=!1}render(t,e,i,n,s,r,h){const c=e&&(()=>{const e=.5*this.view.hudUnit-this.view.mouse.x,i=(t+.5)*this.view.hudUnit-this.view.mouse.y;return Math.sqrt(e*e+i*i)<.4*this.view.hudUnit})();this.view.mouse.pressed&&!this.view.mouse.clicked&&c&&(this.clicked=!0,this.view.mouse.clicked=!0),(c||this.clicked||s)&&(this.view.context.beginPath(),this.view.context.arc(.5*this.view.hudUnit,(t+.5)*this.view.hudUnit+(this.clicked?2:0),.4*this.view.hudUnit,0,2*Math.PI),this.view.context.fillStyle=r,this.view.context.fill(),(c||this.clicked)&&(this.view.container.style.cursor="pointer"));this.drawIcon(.5*this.view.hudUnit,(i+.5)*this.view.hudUnit+(this.clicked?2:0),.5*this.view.hudUnit,c||this.clicked||s?"#2c3e50":r,n,o.getIcon(h))}drawIcon(t,e,i,n,s,o){this.view.context.save(),this.view.context.scale(i/24,i/24),this.view.context.translate(t/(i/24)-12,e/(i/24)-12),this.view.context.fillStyle=n,this.view.context.globalAlpha=s,this.view.context.fill(o),this.view.context.restore()}static getIcon(t){switch(t){case"play":return new Path2D("M8 5v14l11-7z");case"restart":return new Path2D("M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z");case"settings":return new Path2D("M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z");case"stop":return new Path2D("M6 6h12v12H6z");case"size":return new Path2D("M23 15h-2v2h2v-2zm0-4h-2v2h2v-2zm0 8h-2v2c1 0 2-1 2-2zM15 3h-2v2h2V3zm8 4h-2v2h2V7zm-2-4v2h2c0-1-1-2-2-2zM3 21h8v-6H1v4c0 1.1.9 2 2 2zM3 7H1v2h2V7zm12 12h-2v2h2v-2zm4-16h-2v2h2V3zm0 16h-2v2h2v-2zM3 3C2 3 1 4 1 5h2V3zm0 8H1v2h2v-2zm8-8H9v2h2V3zM7 3H5v2h2V3z");case"human":return new Path2D("M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z");case"computer":return new Path2D("M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2h-4zM4 6h16v10H4V6z");default:throw"Invalid icon name"}}}class r{constructor(t,e=!1){this.view=t,this.visible=!1,this.openFrame=0,this.aiExtendFrame=0,this.humanAiSwitch=new h(this.view),this.algorithmDropdown=new c(this.view,["Minimax","Alpha-beta pruning"],1),this.depthSlider=new l(this.view,t=>Math.floor(10*t),.45),this.evaluationFnDropdown=new c(this.view,["Line counter"]);const i=t=>Math.floor(1e3*Math.pow(t+.8,10)/Math.pow(1.8,10));this.rowCtrQuadsSlider=new l(this.view,i,1),this.rowCtrTripsSlider=new l(this.view,i,.44),this.rowCtrDubsSlider=new l(this.view,i,.32),this.rowCtrSinglesSlider=new l(this.view,i,0),e&&(this.humanAiSwitch.toggled=!0)}mouseUp(){this.humanAiSwitch.mouseUp(),this.algorithmDropdown.mouseUp(),this.depthSlider.mouseUp(),this.evaluationFnDropdown.mouseUp(),this.rowCtrQuadsSlider.mouseUp(),this.rowCtrTripsSlider.mouseUp(),this.rowCtrDubsSlider.mouseUp(),this.rowCtrSinglesSlider.mouseUp()}update(){this.visible?this.openFrame<5&&(this.openFrame+=1):this.openFrame>0&&(this.openFrame-=1),this.humanAiSwitch.toggled?this.aiExtendFrame<5&&(this.aiExtendFrame+=1):this.aiExtendFrame>0&&(this.aiExtendFrame-=1),this.humanAiSwitch.update()}render(t,e){if(this.openFrame>0){const i=()=>this.humanAiSwitch.toggled?this.algorithmDropdown.width()+1.3*this.view.hudUnit:this.humanAiSwitch.width(),n=1-Math.pow(1-this.openFrame/5,3),o=this.humanAiSwitch.toggled?1-Math.pow(1-this.aiExtendFrame/5,3):Math.pow(this.aiExtendFrame/5,3),r=.8*this.view.hudUnit,h=.4*this.view.hudUnit,c=1-.8,l=this.view.hudUnit*(1-c)/2;this.view.context.font=`bold ${.25*this.view.hudUnit}px Anonymous Pro`,this.view.context.textBaseline="middle";const u=Math.max(n*(i()+r),2*h),a=Math.max(n*r+7*l*o,2*h),d=(1+c/2)*this.view.hudUnit,w=(t+.5)*this.view.hudUnit-a/2;if(this.view.context.beginPath(),s(this.view.context,d,w,u,a,h),this.view.context.closePath(),this.view.context.strokeStyle="#2c3e50",this.view.context.lineWidth=.075*this.view.hudUnit,this.view.context.stroke(),this.view.context.fillStyle=e,this.view.context.fill(),5==this.openFrame&&this.visible&&(this.humanAiSwitch.render(1.5*this.view.hudUnit,w+l),5==this.aiExtendFrame&&this.humanAiSwitch.toggled)){const t=1.35*this.view.hudUnit,e=3*this.view.hudUnit;this.view.context.font=`bold ${.25*this.view.hudUnit}px Anonymous Pro`,this.view.context.fillStyle="#2c3e50",this.view.context.fillText("Algorithm",t,w+2*l),this.algorithmDropdown.render(e,w+2*l),this.view.context.font=`bold ${.25*this.view.hudUnit}px Anonymous Pro`,this.view.context.fillStyle="#2c3e50",this.view.context.fillText("Depth",t,w+3*l),this.depthSlider.render(e,w+3*l,this.algorithmDropdown.width()),this.view.context.font=`bold ${.25*this.view.hudUnit}px Anonymous Pro`,this.view.context.fillStyle="#2c3e50",this.view.context.fillText("Evaluation",t,w+4*l),this.evaluationFnDropdown.render(e,w+4*l),this.view.context.font=`bold ${.25*this.view.hudUnit}px Anonymous Pro`,this.view.context.fillStyle="#2c3e50",this.view.context.fillText("Quadruples",t,w+5*l),this.rowCtrQuadsSlider.render(e,w+5*l,this.evaluationFnDropdown.width()),this.view.context.font=`bold ${.25*this.view.hudUnit}px Anonymous Pro`,this.view.context.fillStyle="#2c3e50",this.view.context.fillText("Triples",t,w+6*l),this.rowCtrTripsSlider.render(e,w+6*l,this.evaluationFnDropdown.width()),this.view.context.font=`bold ${.25*this.view.hudUnit}px Anonymous Pro`,this.view.context.fillStyle="#2c3e50",this.view.context.fillText("Doubles",t,w+7*l),this.rowCtrDubsSlider.render(e,w+7*l,this.evaluationFnDropdown.width()),this.view.context.font=`bold ${.25*this.view.hudUnit}px Anonymous Pro`,this.view.context.fillStyle="#2c3e50",this.view.context.fillText("Singles",t,w+8*l),this.rowCtrSinglesSlider.render(e,w+8*l,this.evaluationFnDropdown.width())}}}}class h{constructor(t){this.view=t,this.clicked=!1,this.toggled=!1,this.frame=0}mouseUp(){this.clicked&&(this.clicked=!1,this.toggled=!this.toggled)}update(){this.toggled?this.frame<5&&(this.frame+=1):this.frame>0&&(this.frame-=1)}render(t,e){const i=.3*this.view.hudUnit,n=t-i/2,o=.1*this.view.hudUnit;this.view.context.font=`bold ${.25*this.view.hudUnit}px Anonymous Pro`,this.view.context.fillStyle="#2c3e50",this.view.context.fillText("Human",n,e);const r=this.view.context.measureText("Human").width,h=.6*this.view.hudUnit,c=i/2,l=n+r+o;this.view.context.beginPath(),s(this.view.context,l,e-i/2,h,i,c),this.view.context.closePath(),this.view.context.fillStyle="#2c3e50",this.view.context.fill();const u=.8*c,a=this.toggled?1-Math.pow(1-this.frame/5,3):Math.pow(this.frame/5,3);this.view.context.beginPath(),this.view.context.arc(l+c+a*(h-2*c),e,u,0,2*Math.PI),this.view.context.fillStyle="#ffffff",this.view.context.fill();const d=e-i/2,w=e+i/2,f=l,p=l+h,v=this.view.mouse.x>f&&this.view.mouse.x<p&&this.view.mouse.y>d&&this.view.mouse.y<w;this.view.mouse.pressed&&!this.view.mouse.clicked&&v&&(this.clicked=!0,this.view.mouse.clicked=!0),(v||this.clicked)&&(this.view.container.style.cursor="pointer"),this.view.context.fillStyle="#2c3e50",this.view.context.fillText("AI",n+r+o+h+o,e)}width(){const t=.1*this.view.hudUnit,e=.6*this.view.hudUnit,i=.3*this.view.hudUnit;return this.view.context.measureText("Human").width+t+e+t+this.view.context.measureText("AI").width-i}}class c{constructor(t,e,i=0){this.view=t,this.clicked=!1,this.options=e,this.selected=i,this.frame=0}getValue(){return this.options[this.selected]}mouseUp(){this.clicked&&(this.clicked=!1,this.selected=(this.selected+1)%this.options.length)}maxWidth(){this.view.context.font=`${.2*this.view.hudUnit}px Anonymous Pro`;for(var t=0,e=0;e<this.options.length;e++){const i=this.view.context.measureText(this.options[e]).width;i>t&&(t=i)}return t}render(t,e){const i=this.maxWidth(),n=.3*this.view.hudUnit,o=.1*this.view.hudUnit,r=n/2;e+=this.clicked?2:0,this.view.context.beginPath(),s(this.view.context,t-n/2,e-n/2,i+2*o,n,r),this.view.context.closePath(),this.view.context.fillStyle="#2c3e50",this.view.context.fill(),this.view.context.font=`${.2*this.view.hudUnit}px Anonymous Pro`;const h=this.view.context.measureText(this.options[this.selected]).width;this.view.context.fillStyle="#ffffff",this.view.context.fillText(this.options[this.selected],t+o+(i-h)/2-n/2,e);const c=e-n/2,l=e+n/2,u=t-n/2,a=t-n/2+i+2*o,d=this.view.mouse.x>u&&this.view.mouse.x<a&&this.view.mouse.y>c&&this.view.mouse.y<l;this.view.mouse.pressed&&!this.view.mouse.clicked&&d&&(this.clicked=!0,this.view.mouse.clicked=!0),(d||this.clicked)&&(this.view.container.style.cursor="pointer")}width(){return this.maxWidth()+2*(.1*this.view.hudUnit)}}class l{constructor(t,e,i){this.view=t,this.clicked=!1,this.position=i,this.fn=e}mouseUp(){this.clicked&&(this.clicked=!1)}getValue(){return this.fn(this.position)}render(t,e,i){const n=.3*this.view.hudUnit,s=n/3,o=.1*this.view.hudUnit;if(t+=s-n/2,this.view.context.beginPath(),this.view.context.moveTo(t,e),this.view.context.lineTo(t+i-n,e),this.view.context.strokeStyle="#2c3e50",this.view.context.lineWidth=.025*this.view.hudUnit,this.view.context.stroke(),this.clicked){const e=(this.view.mouse.x-t)/(i-n);this.position=Math.max(0,Math.min(e,1))}this.view.context.beginPath(),this.view.context.arc(t+this.position*(i-n),e,s,0,2*Math.PI),this.view.context.strokeStyle="#2c3e50",this.view.context.lineWidth=.05*this.view.hudUnit,this.view.context.stroke(),this.view.context.fillStyle="#ffffff",this.view.context.fill();const r=e-s,h=e+s,c=t-s,l=t+i-n+s,u=this.view.mouse.x>c&&this.view.mouse.x<l&&this.view.mouse.y>r&&this.view.mouse.y<h;this.view.mouse.pressed&&!this.view.mouse.clicked&&u&&(this.clicked=!0,this.view.mouse.clicked=!0),(u||this.clicked)&&(this.view.container.style.cursor="pointer"),this.view.context.font=`bold ${.2*this.view.hudUnit}px Anonymous Pro`,this.view.context.fillStyle="#2c3e50",this.view.context.fillText(this.getValue(),t+i-n+s+o,e)}width(){}}class u{constructor(t,e,i,s,h){this.boardWidth=t,this.boardHeight=e,this.container=document.getElementById("container"),this.onViewChange=i,this.onPlay=s,this.onStop=h,this.startTime=performance.now(),this.ripples=[],this.mouse={x:0,y:0,pressed:!1,clicked:!1},this.playing=!1,this.settingsVisible=!1,this.settingsButtonAnimationFrame=5,this.settingsButtonsAnimationFrame=0,this.setUp(),this.playStopButton=new o(this),this.settingsButton=new o(this),this.yellowPlayerSettingButton=new o(this),this.redPlayerSettingButton=new o(this),this.yellowPlayerWindow=new r(this),this.redPlayerWindow=new r(this,!0),window.addEventListener("resize",()=>{const[t]=this.container.children;t&&this.container.removeChild(t),this.setUp(),this.onViewChange()}),window.addEventListener("mousemove",t=>{const{left:e,top:i}=this.context.canvas.getBoundingClientRect();this.mouse.x=t.x-e,this.mouse.y=t.y-i;const n=Math.floor(this.mouse.x/this.boardUnit)-1;this.mouseColumnIndex=n>=0&&n<this.boardWidth?n:void 0}),window.addEventListener("mousedown",()=>{this.mouse.pressed=!0}),window.addEventListener("mouseup",()=>{this.playStopButton.clicked&&(this.playStopButton.clicked=!1,this.playing?(this.playing=!1,this.onStop()):(this.playing=!0,this.settingsVisible=!1,this.yellowPlayerWindow.visible=!1,this.redPlayerWindow.visible=!1,this.onPlay(this.extractPlayer(this.yellowPlayerWindow,n.b.Yellow),this.extractPlayer(this.redPlayerWindow,n.b.Red)))),this.settingsButton.clicked&&(this.settingsButton.clicked=!1,this.settingsVisible?(this.settingsVisible=!1,this.yellowPlayerWindow.visible=!1,this.redPlayerWindow.visible=!1):this.settingsVisible=!0),this.yellowPlayerSettingButton.clicked&&(this.yellowPlayerSettingButton.clicked=!1,this.yellowPlayerWindow.visible?this.yellowPlayerWindow.visible=!1:(this.yellowPlayerWindow.visible=!0,this.redPlayerWindow.visible=!1)),this.redPlayerSettingButton.clicked&&(this.redPlayerSettingButton.clicked=!1,this.redPlayerWindow.visible?this.redPlayerWindow.visible=!1:(this.redPlayerWindow.visible=!0,this.yellowPlayerWindow.visible=!1)),this.yellowPlayerWindow.mouseUp(),this.redPlayerWindow.mouseUp(),this.mouse.pressed=!1,this.mouse.clicked=!1})}extractPlayer(t,e){if(!t.humanAiSwitch.toggled)return null;{const i=e==n.b.Yellow,s=t.depthSlider.getValue();if("Minimax"==t.algorithmDropdown.getValue()){if("Line counter"==t.evaluationFnDropdown.getValue()){const e=t.rowCtrSinglesSlider.getValue(),o=t.rowCtrDubsSlider.getValue(),r=t.rowCtrTripsSlider.getValue(),h=t.rowCtrQuadsSlider.getValue();return t=>Object(n.q)(t,i,s,e,o,r,h)}}else if("Alpha-beta pruning"==t.algorithmDropdown.getValue()&&"Line counter"==t.evaluationFnDropdown.getValue()){const e=t.rowCtrSinglesSlider.getValue(),o=t.rowCtrDubsSlider.getValue(),r=t.rowCtrTripsSlider.getValue(),h=t.rowCtrQuadsSlider.getValue();return t=>Object(n.p)(t,i,s,e,o,r,h)}}}setUp(){const{width:t,height:e}=this.container.getBoundingClientRect(),i=document.createElement("canvas");this.container.appendChild(i),this.context=i.getContext("2d"),this.boardUnit=Math.min(t/(this.boardWidth+2),e/this.boardHeight),this.hudUnit=this.boardHeight/Math.max(this.boardHeight,4)*this.boardUnit,i.setAttribute("width",this.boardUnit*(this.boardWidth+2)),i.setAttribute("height",this.boardUnit*this.boardHeight)}calculateRipple(t){var e=[];const i=performance.now()-this.startTime;for(var n=0;n<this.boardWidth;n++){const s=40*Math.abs(n-t),o=i+s,r=.001*(s+10),h=t=>{const e=t-o;return t-i<s?0:.082*Math.exp(-.1*r*e)*Math.cos(.02*e-Math.PI/2)};e.push(h)}this.ripples.push(e)}getRippleOffsets(t){for(var e=[],i=0;i<this.boardWidth;i++){var n=0;this.ripples.forEach(e=>{n+=e[i](t)}),e.push(n)}return e}animate(){this.playing?this.settingsButtonAnimationFrame>0&&(this.settingsButtonAnimationFrame-=1):this.settingsButtonAnimationFrame<5&&(this.settingsButtonAnimationFrame+=1),this.settingsVisible?this.settingsButtonsAnimationFrame<5&&(this.settingsButtonsAnimationFrame+=1):this.settingsButtonsAnimationFrame>0&&(this.settingsButtonsAnimationFrame-=1),this.yellowPlayerWindow.update(),this.redPlayerWindow.update()}render(t){this.context.clearRect(0,0,this.context.canvas.width,this.context.canvas.height);const e=performance.now()-this.startTime,i=this.getRippleOffsets(e);if(t.columns.forEach((e,n)=>{for(var s=0;s<t.bound;s++){const t=e[s];this.context.beginPath(),this.context.arc((n+.5+1)*this.boardUnit,(this.boardHeight-s-.5+i[n])*this.boardUnit,(void 0!==t?.4:.4*.05)*this.boardUnit,0,2*Math.PI),this.context.fillStyle=void 0!==t?0==t?"#ebdb34":"#e74c3c":"#ffffff",this.context.fill()}}),void 0!==this.dropPreview&&void 0!==this.mouseColumnIndex){this.context.beginPath(),this.context.arc((this.mouseColumnIndex+.5+1)*this.boardUnit,(this.boardHeight-t.columns[this.mouseColumnIndex].length-.5)*this.boardUnit,this.boardUnit/2.5,0,2*Math.PI),this.context.strokeStyle=0==this.dropPreview?"#ebdb34":"#e74c3c",this.context.lineWidth=.03*this.boardUnit;const i=Math.PI*this.boardUnit/2.5;this.context.setLineDash([i/8,i/8]),this.context.lineDashOffset=.01*e,this.context.stroke(),this.context.setLineDash([])}if(t.fourInARow){const[e,r]=t.fourInARow;this.context.beginPath();var n=e[0],s=e[1];this.context.moveTo((n+.5+1)*this.boardUnit,(this.boardHeight-1-s+.5+i[n])*this.boardUnit);for(var o=1;o<4;o++)n+=r[0],s+=r[1],this.context.lineTo((n+.5+1)*this.boardUnit,(this.boardHeight-1-s+.5+i[n])*this.boardUnit);this.context.lineWidth=.8*this.boardUnit,this.context.lineCap="round",this.context.strokeStyle=0==t.columns[n][s]?"#ebdb34":"#e74c3c",this.context.stroke()}this.container.style.cursor="default",this.playStopButton.render(0,!0,0,1,this.playing,"#ffffff",this.playing?"stop":"play"),this.settingsButton.render(1,5==this.settingsButtonAnimationFrame,1-Math.pow(1-this.settingsButtonAnimationFrame/5,3),this.settingsButtonAnimationFrame/5,this.settingsVisible,"#ffffff","settings"),this.yellowPlayerSettingButton.render(2,5==this.settingsButtonsAnimationFrame,1-Math.pow(1-this.settingsButtonsAnimationFrame/5,3)+1,this.settingsButtonsAnimationFrame/5,this.yellowPlayerWindow.visible,"#ebdb34",this.yellowPlayerWindow.humanAiSwitch.toggled?"computer":"human"),this.redPlayerSettingButton.render(3,5==this.settingsButtonsAnimationFrame,1+2*(1-Math.pow(1-this.settingsButtonsAnimationFrame/5,3)),this.settingsButtonsAnimationFrame/5,this.redPlayerWindow.visible,"#e74c3c",this.redPlayerWindow.humanAiSwitch.toggled?"computer":"human"),this.yellowPlayerWindow.render(2,"#ebdb34"),this.redPlayerWindow.render(3,"#e74c3c")}}(new class{constructor(){this.restart(),this.playing=!1,this.humanPlayer=!1;const t=()=>{const t=this.view.mouseColumnIndex;return!(void 0===t||!this.board.isValidLocation(t))&&(this.board.push(t,this.player),this.view.calculateRipple(t),this.board.checkForWin(this.player)||this.board.checkForDraw()?(this.stop(),!0):(this.player=this.player==n.b.Yellow?n.b.Red:n.b.Yellow,!0))},e=t=>{const e=t(this.board);this.board.push(e,this.player),this.view.calculateRipple(e),(this.board.checkForWin(this.player)||this.board.checkForDraw())&&this.stop(),this.player=this.player==n.b.Yellow?n.b.Red:n.b.Yellow},i=()=>()=>{t(),this.playing&&(this.view.dropPreview=this.player)},s=i=>async()=>{if(this.humanPlayer){t()&&(this.humanPlayer=!1,this.view.dropPreview=void 0,await this.timeout(500),this.playing&&(e(i),this.playing&&(this.humanPlayer=!0,this.view.dropPreview=this.player)))}};this.view=new u(this.board.columns.length,this.board.bound,this.render.bind(this),async(t,o)=>{if(this.player=n.b.Yellow,this.play(),t||o){if(!t&&o)this.onClick=s(o),this.humanPlayer=!0,this.view.dropPreview=this.player,window.addEventListener("mousedown",this.onClick);else if(t&&!o)this.onClick=s(t),this.humanPlayer=!1,e(t),this.humanPlayer=!0,this.view.dropPreview=this.player,window.addEventListener("mousedown",this.onClick);else if(t&&o)for(this.humanPlayer=!1;e(t),await this.timeout(0),this.playing&&(e(o),await this.timeout(0),this.playing););}else this.onClick=i(),this.humanPlayer=!0,this.view.dropPreview=this.player,window.addEventListener("mousedown",this.onClick)},this.stop.bind(this))}play(){this.playing=!0,this.restart()}restart(){this.board=new n.a(7,6)}stop(){this.playing=!1,this.view.playing=!1,this.view.dropPreview=void 0,window.removeEventListener("mousedown",this.onClick)}render(){this.view.render(this.board)}tick(){this.view.animate(),this.render()}timeout(t){return new Promise(e=>setTimeout(e,t))}async run(){setInterval(this.tick.bind(this),1e3/60)}}).run()},function(t,e,i){"use strict";i.d(e,"q",(function(){return f})),i.d(e,"p",(function(){return p})),i.d(e,"b",(function(){return m})),i.d(e,"a",(function(){return y})),i.d(e,"m",(function(){return g})),i.d(e,"n",(function(){return b})),i.d(e,"i",(function(){return x})),i.d(e,"e",(function(){return P})),i.d(e,"k",(function(){return S})),i.d(e,"j",(function(){return U})),i.d(e,"c",(function(){return k})),i.d(e,"l",(function(){return A})),i.d(e,"d",(function(){return T})),i.d(e,"f",(function(){return F})),i.d(e,"g",(function(){return D})),i.d(e,"h",(function(){return O})),i.d(e,"o",(function(){return M}));var n=i(7);const s=new Array(32).fill(void 0);s.push(void 0,null,!0,!1);let o=s.length;function r(t){o===s.length&&s.push(s.length+1);const e=o;return o=s[e],s[e]=t,e}function h(t){return s[t]}function c(t){const e=h(t);return function(t){t<36||(s[t]=o,o=t)}(t),e}let l=new("undefined"==typeof TextDecoder?i(3).TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});l.decode();let u=null;function a(){return null!==u&&u.buffer===n.q.buffer||(u=new Uint8Array(n.q.buffer)),u}function d(t,e){return l.decode(a().subarray(t,t+e))}function w(t,e){if(!(t instanceof e))throw new Error(`expected instance of ${e.name}`);return t.ptr}function f(t,e,i,s,o,r,h){return w(t,y),n.r(t.ptr,e,i,s,o,r,h)>>>0}function p(t,e,i,s,o,r,h){return w(t,y),n.h(t.ptr,e,i,s,o,r,h)>>>0}function v(t,e){return a().subarray(t/1,t/1+e)}const m=Object.freeze({Yellow:0,Red:1});class y{static __wrap(t){const e=Object.create(y.prototype);return e.ptr=t,e}free(){const t=this.ptr;this.ptr=0,n.a(t)}constructor(t,e){var i=n.o(t,e);return y.__wrap(i)}get columns(){return c(n.l(this.ptr))}get fourInARow(){return c(n.m(this.ptr))}get bound(){return n.k(this.ptr)>>>0}push(t,e){n.p(this.ptr,t,e)}isValidLocation(t){return 0!==n.n(this.ptr,t)}checkForDraw(){return 0!==n.i(this.ptr)}checkForWin(t){return 0!==n.j(this.ptr,t)}}const g=function(t){return r(t)},b=function(t){c(t)},x=function(t,e,i){h(t).randomFillSync(v(e,i))},P=function(t,e,i){h(t).getRandomValues(v(e,i))},S=function(){try{return r(self.self)}catch(t){!function(t){n.g(r(t))}(t)}},U=function(t,e){return r(i(8)(d(t,e)))},k=function(t){return r(h(t).crypto)},A=function(t){return void 0===h(t)},T=function(t){return r(h(t).getRandomValues)},F=function(){return r(new Array)},D=function(t,e){return r(Array.of(h(t),h(e)))},O=function(t,e){return h(t).push(h(e))},M=function(t,e){throw new Error(d(t,e))}},function(t,e,i){(function(t){var n=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),i={},n=0;n<e.length;n++)i[e[n]]=Object.getOwnPropertyDescriptor(t,e[n]);return i},s=/%[sdj%]/g;e.format=function(t){if(!m(t)){for(var e=[],i=0;i<arguments.length;i++)e.push(h(arguments[i]));return e.join(" ")}i=1;for(var n=arguments,o=n.length,r=String(t).replace(s,(function(t){if("%%"===t)return"%";if(i>=o)return t;switch(t){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}default:return t}})),c=n[i];i<o;c=n[++i])p(c)||!b(c)?r+=" "+c:r+=" "+h(c);return r},e.deprecate=function(i,n){if(void 0!==t&&!0===t.noDeprecation)return i;if(void 0===t)return function(){return e.deprecate(i,n).apply(this,arguments)};var s=!1;return function(){if(!s){if(t.throwDeprecation)throw new Error(n);t.traceDeprecation?console.trace(n):console.error(n),s=!0}return i.apply(this,arguments)}};var o,r={};function h(t,i){var n={seen:[],stylize:l};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),f(i)?n.showHidden=i:i&&e._extend(n,i),y(n.showHidden)&&(n.showHidden=!1),y(n.depth)&&(n.depth=2),y(n.colors)&&(n.colors=!1),y(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),u(n,t,n.depth)}function c(t,e){var i=h.styles[e];return i?"["+h.colors[i][0]+"m"+t+"["+h.colors[i][1]+"m":t}function l(t,e){return t}function u(t,i,n){if(t.customInspect&&i&&S(i.inspect)&&i.inspect!==e.inspect&&(!i.constructor||i.constructor.prototype!==i)){var s=i.inspect(n,t);return m(s)||(s=u(t,s,n)),s}var o=function(t,e){if(y(e))return t.stylize("undefined","undefined");if(m(e)){var i="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(i,"string")}if(v(e))return t.stylize(""+e,"number");if(f(e))return t.stylize(""+e,"boolean");if(p(e))return t.stylize("null","null")}(t,i);if(o)return o;var r=Object.keys(i),h=function(t){var e={};return t.forEach((function(t,i){e[t]=!0})),e}(r);if(t.showHidden&&(r=Object.getOwnPropertyNames(i)),P(i)&&(r.indexOf("message")>=0||r.indexOf("description")>=0))return a(i);if(0===r.length){if(S(i)){var c=i.name?": "+i.name:"";return t.stylize("[Function"+c+"]","special")}if(g(i))return t.stylize(RegExp.prototype.toString.call(i),"regexp");if(x(i))return t.stylize(Date.prototype.toString.call(i),"date");if(P(i))return a(i)}var l,b="",U=!1,k=["{","}"];(w(i)&&(U=!0,k=["[","]"]),S(i))&&(b=" [Function"+(i.name?": "+i.name:"")+"]");return g(i)&&(b=" "+RegExp.prototype.toString.call(i)),x(i)&&(b=" "+Date.prototype.toUTCString.call(i)),P(i)&&(b=" "+a(i)),0!==r.length||U&&0!=i.length?n<0?g(i)?t.stylize(RegExp.prototype.toString.call(i),"regexp"):t.stylize("[Object]","special"):(t.seen.push(i),l=U?function(t,e,i,n,s){for(var o=[],r=0,h=e.length;r<h;++r)F(e,String(r))?o.push(d(t,e,i,n,String(r),!0)):o.push("");return s.forEach((function(s){s.match(/^\d+$/)||o.push(d(t,e,i,n,s,!0))})),o}(t,i,n,h,r):r.map((function(e){return d(t,i,n,h,e,U)})),t.seen.pop(),function(t,e,i){if(t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return i[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+i[1];return i[0]+e+" "+t.join(", ")+" "+i[1]}(l,b,k)):k[0]+b+k[1]}function a(t){return"["+Error.prototype.toString.call(t)+"]"}function d(t,e,i,n,s,o){var r,h,c;if((c=Object.getOwnPropertyDescriptor(e,s)||{value:e[s]}).get?h=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(h=t.stylize("[Setter]","special")),F(n,s)||(r="["+s+"]"),h||(t.seen.indexOf(c.value)<0?(h=p(i)?u(t,c.value,null):u(t,c.value,i-1)).indexOf("\n")>-1&&(h=o?h.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+h.split("\n").map((function(t){return"   "+t})).join("\n")):h=t.stylize("[Circular]","special")),y(r)){if(o&&s.match(/^\d+$/))return h;(r=JSON.stringify(""+s)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(r=r.substr(1,r.length-2),r=t.stylize(r,"name")):(r=r.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),r=t.stylize(r,"string"))}return r+": "+h}function w(t){return Array.isArray(t)}function f(t){return"boolean"==typeof t}function p(t){return null===t}function v(t){return"number"==typeof t}function m(t){return"string"==typeof t}function y(t){return void 0===t}function g(t){return b(t)&&"[object RegExp]"===U(t)}function b(t){return"object"==typeof t&&null!==t}function x(t){return b(t)&&"[object Date]"===U(t)}function P(t){return b(t)&&("[object Error]"===U(t)||t instanceof Error)}function S(t){return"function"==typeof t}function U(t){return Object.prototype.toString.call(t)}function k(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(i){if(y(o)&&(o=t.env.NODE_DEBUG||""),i=i.toUpperCase(),!r[i])if(new RegExp("\\b"+i+"\\b","i").test(o)){var n=t.pid;r[i]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",i,n,t)}}else r[i]=function(){};return r[i]},e.inspect=h,h.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},h.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=w,e.isBoolean=f,e.isNull=p,e.isNullOrUndefined=function(t){return null==t},e.isNumber=v,e.isString=m,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=y,e.isRegExp=g,e.isObject=b,e.isDate=x,e.isError=P,e.isFunction=S,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=i(5);var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(){var t=new Date,e=[k(t.getHours()),k(t.getMinutes()),k(t.getSeconds())].join(":");return[t.getDate(),A[t.getMonth()],e].join(" ")}function F(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",T(),e.format.apply(e,arguments))},e.inherits=i(6),e._extend=function(t,e){if(!e||!b(e))return t;for(var i=Object.keys(e),n=i.length;n--;)t[i[n]]=e[i[n]];return t};var D="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function O(t,e){if(!t){var i=new Error("Promise was rejected with a falsy value");i.reason=t,t=i}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(D&&t[D]){var e;if("function"!=typeof(e=t[D]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,D,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,i,n=new Promise((function(t,n){e=t,i=n})),s=[],o=0;o<arguments.length;o++)s.push(arguments[o]);s.push((function(t,n){t?i(t):e(n)}));try{t.apply(this,s)}catch(t){i(t)}return n}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),D&&Object.defineProperty(e,D,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,n(t))},e.promisify.custom=D,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function i(){for(var i=[],n=0;n<arguments.length;n++)i.push(arguments[n]);var s=i.pop();if("function"!=typeof s)throw new TypeError("The last argument must be of type Function");var o=this,r=function(){return s.apply(o,arguments)};e.apply(this,i).then((function(e){t.nextTick(r,null,e)}),(function(e){t.nextTick(O,e,r)}))}return Object.setPrototypeOf(i,Object.getPrototypeOf(e)),Object.defineProperties(i,n(e)),i}}).call(this,i(4))},function(t,e){var i,n,s=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function h(t){if(i===setTimeout)return setTimeout(t,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(t){i=o}try{n="function"==typeof clearTimeout?clearTimeout:r}catch(t){n=r}}();var c,l=[],u=!1,a=-1;function d(){u&&c&&(u=!1,c.length?l=c.concat(l):a=-1,l.length&&w())}function w(){if(!u){var t=h(d);u=!0;for(var e=l.length;e;){for(c=l,l=[];++a<e;)c&&c[a].run();a=-1,e=l.length}c=null,u=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===r||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function p(){}s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];l.push(new f(t,e)),1!==l.length||u||h(w)},f.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=p,s.addListener=p,s.once=p,s.off=p,s.removeListener=p,s.removeAllListeners=p,s.emit=p,s.prependListener=p,s.prependOnceListener=p,s.listeners=function(t){return[]},s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}},function(t,e,i){"use strict";var n=i.w[t.i];t.exports=n;i(2);n.s()},function(t,e){function i(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}i.keys=function(){return[]},i.resolve=i,t.exports=i,i.id=8}]]);